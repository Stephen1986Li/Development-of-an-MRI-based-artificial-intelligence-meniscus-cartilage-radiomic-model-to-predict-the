"use strict";

var jmp = require('./jmp_score.js');


/* ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== */

/* JavaScript code generated by JMP v16.2.0 */
var getModelMetadata = function() {
	return {"creator": "Fit Generalized", "modelName": "Lasso", "predicted": "itype1", "table": "final-2022-11-18", "version": "16.2.0", "timestamp": "2023-02-13T04:58:50Z"};
};

var getInputMetadata = function() {
    return {
   "$schema": "http://json-schema.org/draft-04/schema#",
   "id": "/",
   "type": "object",
   "properties": {
     "original_firstorder_minimum_fc": {
       "id": "original_firstorder_minimum_fc",
       "type": "number"
     },
     "original_glszm_smallareaemphasis_fc": {
       "id": "original_glszm_smallareaemphasis_fc",
       "type": "number"
     },
     "original_shape_elongation_lm": {
       "id": "original_shape_elongation_lm",
       "type": "number"
     },
     "original_shape_sphericity_mm": {
       "id": "original_shape_sphericity_mm",
       "type": "number"
     },
     "v455_fc": {
       "id": "v455_fc",
       "type": "number"
     },
     "v620_fc": {
       "id": "v620_fc",
       "type": "number"
     },
     "v810_mm": {
       "id": "v810_mm",
       "type": "number"
     },
     "wavelethhh_firstorder_minimum_fc": {
       "id": "wavelethhh_firstorder_minimum_fc",
       "type": "number"
     },
     "wavelethhh_glcm_clustershade_mm": {
       "id": "wavelethhh_glcm_clustershade_mm",
       "type": "number"
     },
     "wavelethhh_glcm_imc1_lm": {
       "id": "wavelethhh_glcm_imc1_lm",
       "type": "number"
     },
     "wavelethhh_glrlm_runvariance_mm": {
       "id": "wavelethhh_glrlm_runvariance_mm",
       "type": "number"
     },
     "wavelethhh_glszm_largeareahighgr_fc": {
       "id": "wavelethhh_glszm_largeareahighgr_fc",
       "type": "number"
     },
     "wavelethhl_firstorder_mean_mm": {
       "id": "wavelethhl_firstorder_mean_mm",
       "type": "number"
     },
     "wavelethhl_glcm_clusterprominenc_fc": {
       "id": "wavelethhl_glcm_clusterprominenc_fc",
       "type": "number"
     },
     "wavelethhl_glcm_correlation_mm": {
       "id": "wavelethhl_glcm_correlation_mm",
       "type": "number"
     },
     "wavelethhl_glcm_imc1_mm": {
       "id": "wavelethhl_glcm_imc1_mm",
       "type": "number"
     },
     "wavelethhl_glcm_imc1_tc": {
       "id": "wavelethhl_glcm_imc1_tc",
       "type": "number"
     },
     "wavelethhl_gldm_smalldependencel_fc": {
       "id": "wavelethhl_gldm_smalldependencel_fc",
       "type": "number"
     },
     "wavelethhl_gldm_smalldependencel_mm": {
       "id": "wavelethhl_gldm_smalldependencel_mm",
       "type": "number"
     },
     "wavelethhl_glrlm_longrunhighgray_mm": {
       "id": "wavelethhl_glrlm_longrunhighgray_mm",
       "type": "number"
     },
     "wavelethhl_glszm_graylevelvarian_mm": {
       "id": "wavelethhl_glszm_graylevelvarian_mm",
       "type": "number"
     },
     "wavelethhl_glszm_largearealowgra_fc": {
       "id": "wavelethhl_glszm_largearealowgra_fc",
       "type": "number"
     },
     "wavelethhl_glszm_smallareaemphas_fc": {
       "id": "wavelethhl_glszm_smallareaemphas_fc",
       "type": "number"
     },
     "wavelethlh_firstorder_median_lm": {
       "id": "wavelethlh_firstorder_median_lm",
       "type": "number"
     },
     "wavelethlh_glszm_largeareahighgr_tc": {
       "id": "wavelethlh_glszm_largeareahighgr_tc",
       "type": "number"
     },
     "wavelethlh_glszm_zoneentropy_tc": {
       "id": "wavelethlh_glszm_zoneentropy_tc",
       "type": "number"
     },
     "wavelethll_firstorder_kurtosis_mm": {
       "id": "wavelethll_firstorder_kurtosis_mm",
       "type": "number"
     },
     "wavelethll_firstorder_skewness_lm": {
       "id": "wavelethll_firstorder_skewness_lm",
       "type": "number"
     },
     "wavelethll_glszm_graylevelnonuni_fc": {
       "id": "wavelethll_glszm_graylevelnonuni_fc",
       "type": "number"
     },
     "wavelethll_glszm_largearealowgra_lm": {
       "id": "wavelethll_glszm_largearealowgra_lm",
       "type": "number"
     },
     "wavelethll_glszm_smallareaemphas_fc": {
       "id": "wavelethll_glszm_smallareaemphas_fc",
       "type": "number"
     },
     "wavelethll_ngtdm_busyness_mm": {
       "id": "wavelethll_ngtdm_busyness_mm",
       "type": "number"
     },
     "waveletlhh_firstorder_maximum_mm": {
       "id": "waveletlhh_firstorder_maximum_mm",
       "type": "number"
     },
     "waveletlhh_firstorder_median_lm": {
       "id": "waveletlhh_firstorder_median_lm",
       "type": "number"
     },
     "waveletlhh_glszm_smallareaemphas_mm": {
       "id": "waveletlhh_glszm_smallareaemphas_mm",
       "type": "number"
     },
     "waveletlhl_firstorder_minimum_tc": {
       "id": "waveletlhl_firstorder_minimum_tc",
       "type": "number"
     },
     "waveletlhl_firstorder_skewness_fc": {
       "id": "waveletlhl_firstorder_skewness_fc",
       "type": "number"
     },
     "waveletlhl_firstorder_skewness_tc": {
       "id": "waveletlhl_firstorder_skewness_tc",
       "type": "number"
     },
     "waveletlhl_glcm_clustershade_fc": {
       "id": "waveletlhl_glcm_clustershade_fc",
       "type": "number"
     },
     "waveletlhl_glszm_zoneentropy_lm": {
       "id": "waveletlhl_glszm_zoneentropy_lm",
       "type": "number"
     },
     "waveletlhl_glszm_zoneentropy_mm": {
       "id": "waveletlhl_glszm_zoneentropy_mm",
       "type": "number"
     },
     "waveletllh_firstorder_minimum_fc": {
       "id": "waveletllh_firstorder_minimum_fc",
       "type": "number"
     },
     "waveletllh_glcm_correlation_mm": {
       "id": "waveletllh_glcm_correlation_mm",
       "type": "number"
     },
     "waveletllh_glcm_imc1_mm": {
       "id": "waveletllh_glcm_imc1_mm",
       "type": "number"
     },
     "waveletllh_gldm_smalldependencel_mm": {
       "id": "waveletllh_gldm_smalldependencel_mm",
       "type": "number"
     },
     "waveletllh_glszm_zoneentropy_fc": {
       "id": "waveletllh_glszm_zoneentropy_fc",
       "type": "number"
     },
     "waveletlll_glcm_clustershade_lm": {
       "id": "waveletlll_glcm_clustershade_lm",
       "type": "number"
     },
     "waveletlll_glcm_idn_fc": {
       "id": "waveletlll_glcm_idn_fc",
       "type": "number"
     },
     "waveletlll_gldm_largedependenceh_lm": {
       "id": "waveletlll_gldm_largedependenceh_lm",
       "type": "number"
     },
     "waveletlll_glszm_graylevelnonuni_fc": {
       "id": "waveletlll_glszm_graylevelnonuni_fc",
       "type": "number"
     },
     "waveletlll_glszm_graylevelvarian_mm": {
       "id": "waveletlll_glszm_graylevelvarian_mm",
       "type": "number"
     },
     "waveletlll_ngtdm_busyness_tc": {
       "id": "waveletlll_ngtdm_busyness_tc",
       "type": "number"
     },
     "Probability( itype1=Control )": {
       "id": "Probability( itype1=Control )",
       "type": "number"
     },
     "Probability( itype1=Case )": {
       "id": "Probability( itype1=Case )",
       "type": "number"
     }   },
   "additionalProperties": false,
  };
};

var getOutputMetadata = function() {
    return {
   "$schema": "http://json-schema.org/draft-04/schema#",
   "id": "/",
   "type": "object",
   "properties": {
     "Probability( itype1=Control ),!Probability( itype1=Control )": {
       "id": "Probability( itype1=Control ),!Probability( itype1=Control )",
       "type": "number"
     },
     "Probability( itype1=Case ),!Probability( itype1=Case )": {
       "id": "Probability( itype1=Case ),!Probability( itype1=Case )",
       "type": "number"
     },
     "Most Likely itype1,!Most Likely itype1": {
       "id": "Most Likely itype1,!Most Likely itype1",
       "type": "string"
     }   },
   "additionalProperties": false,
  };
};

var score = function(indata, outdata) {
    var _temp_0;
    var _temp_1 = [];
    var _temp_2 = "";

    outdata["Probability( itype1=Control ),!Probability( itype1=Control )"] = jmp.squish((138.906662284563 + -0.0374840613777587 * indata["original_firstorder_minimum_fc"] + 30.0851204984573 * indata["original_glszm_smallareaemphasis_fc"] + -5.16886931938608 * indata["original_shape_elongation_lm"] + -22.6027937197107 * indata["original_shape_sphericity_mm"] + -183.241411245849 * indata["v455_fc"] + -31.2864884900061 * indata["v620_fc"] + 13.0929184029347 * indata["v810_mm"] + -0.0449150326270933 * indata["wavelethhh_firstorder_minimum_fc"] + -80.5541121951956 * indata["wavelethhh_glcm_clustershade_mm"] + -175.513292031235 * indata["wavelethhh_glcm_imc1_lm"] + 14.1388520672465 * indata["wavelethhh_glrlm_runvariance_mm"] + -0.0000000065806757192 * indata["wavelethhh_glszm_largeareahighgr_fc"] + 8.44401662768123 * indata["wavelethhl_firstorder_mean_mm"] + -2.50698631344467 * indata["wavelethhl_glcm_clusterprominenc_fc"] + -70.4834404869617 * indata["wavelethhl_glcm_correlation_mm"] + 135.159288730406 * indata["wavelethhl_glcm_imc1_mm"] + 68.3596341150643 * indata["wavelethhl_glcm_imc1_tc"] + -580.872797304735 * indata["wavelethhl_gldm_smalldependencel_fc"] + -634.382491552537 * indata["wavelethhl_gldm_smalldependencel_mm"] + -0.0725533381359363 * indata["wavelethhl_glrlm_longrunhighgray_mm"] + 7.05678012366991 * indata["wavelethhl_glszm_graylevelvarian_mm"] + 0.0000034063862657645 * indata["wavelethhl_glszm_largearealowgra_fc"] + -23.7451543847941 * indata["wavelethhl_glszm_smallareaemphas_fc"] + -2.46711982513115 * indata["wavelethlh_firstorder_median_lm"] + 0.000000052516315218 * indata["wavelethlh_glszm_largeareahighgr_tc"] + -1.61594579730143 * indata["wavelethlh_glszm_zoneentropy_tc"] + -0.315597348534774 * indata["wavelethll_firstorder_kurtosis_mm"] + 2.72362187343286 * indata["wavelethll_firstorder_skewness_lm"] + -0.00363176200000953 * indata["wavelethll_glszm_graylevelnonuni_fc"] + -0.0000108750618386455 * indata["wavelethll_glszm_largearealowgra_lm"] + -34.6049578360473 * indata["wavelethll_glszm_smallareaemphas_fc"] + -0.00622267395786139 * indata["wavelethll_ngtdm_busyness_mm"] + 0.0125102964039785 * indata["waveletlhh_firstorder_maximum_mm"] + -1.63901757644153 * indata["waveletlhh_firstorder_median_lm"] + -5.4573283165394 * indata["waveletlhh_glszm_smallareaemphas_mm"] + -0.00913208687306463 * indata["waveletlhl_firstorder_minimum_tc"] + 3.82470924731225 * indata["waveletlhl_firstorder_skewness_fc"] + -2.44052577290932 * indata["waveletlhl_firstorder_skewness_tc"] + -0.271269630988434 * indata["waveletlhl_glcm_clustershade_fc"] + -2.22075325292815 * indata["waveletlhl_glszm_zoneentropy_lm"] + -1.73129068376673 * indata["waveletlhl_glszm_zoneentropy_mm"] + -0.0049465095877357 * indata["waveletllh_firstorder_minimum_fc"] + -22.7839150149442 * indata["waveletllh_glcm_correlation_mm"] + -49.4931066442567 * indata["waveletllh_glcm_imc1_mm"] + 508.07815254672 * indata["waveletllh_gldm_smalldependencel_mm"] + -4.27054091625983 * indata["waveletllh_glszm_zoneentropy_fc"] + 0.00258323341544075 * indata["waveletlll_glcm_clustershade_lm"] + -66.2396707106205 * indata["waveletlll_glcm_idn_fc"] + 0.0000154180694582632 * indata["waveletlll_gldm_largedependenceh_lm"] + 0.00278500701223195 * indata["waveletlll_glszm_graylevelnonuni_fc"] + 0.12855055853742 * indata["waveletlll_glszm_graylevelvarian_mm"] + -0.237040444584005 * indata["waveletlll_ngtdm_busyness_tc"]));

    outdata["Probability( itype1=Case ),!Probability( itype1=Case )"] = 1 + -1 * jmp.squish((138.906662284563 + -0.0374840613777587 * indata["original_firstorder_minimum_fc"] + 30.0851204984573 * indata["original_glszm_smallareaemphasis_fc"] + -5.16886931938608 * indata["original_shape_elongation_lm"] + -22.6027937197107 * indata["original_shape_sphericity_mm"] + -183.241411245849 * indata["v455_fc"] + -31.2864884900061 * indata["v620_fc"] + 13.0929184029347 * indata["v810_mm"] + -0.0449150326270933 * indata["wavelethhh_firstorder_minimum_fc"] + -80.5541121951956 * indata["wavelethhh_glcm_clustershade_mm"] + -175.513292031235 * indata["wavelethhh_glcm_imc1_lm"] + 14.1388520672465 * indata["wavelethhh_glrlm_runvariance_mm"] + -0.0000000065806757192 * indata["wavelethhh_glszm_largeareahighgr_fc"] + 8.44401662768123 * indata["wavelethhl_firstorder_mean_mm"] + -2.50698631344467 * indata["wavelethhl_glcm_clusterprominenc_fc"] + -70.4834404869617 * indata["wavelethhl_glcm_correlation_mm"] + 135.159288730406 * indata["wavelethhl_glcm_imc1_mm"] + 68.3596341150643 * indata["wavelethhl_glcm_imc1_tc"] + -580.872797304735 * indata["wavelethhl_gldm_smalldependencel_fc"] + -634.382491552537 * indata["wavelethhl_gldm_smalldependencel_mm"] + -0.0725533381359363 * indata["wavelethhl_glrlm_longrunhighgray_mm"] + 7.05678012366991 * indata["wavelethhl_glszm_graylevelvarian_mm"] + 0.0000034063862657645 * indata["wavelethhl_glszm_largearealowgra_fc"] + -23.7451543847941 * indata["wavelethhl_glszm_smallareaemphas_fc"] + -2.46711982513115 * indata["wavelethlh_firstorder_median_lm"] + 0.000000052516315218 * indata["wavelethlh_glszm_largeareahighgr_tc"] + -1.61594579730143 * indata["wavelethlh_glszm_zoneentropy_tc"] + -0.315597348534774 * indata["wavelethll_firstorder_kurtosis_mm"] + 2.72362187343286 * indata["wavelethll_firstorder_skewness_lm"] + -0.00363176200000953 * indata["wavelethll_glszm_graylevelnonuni_fc"] + -0.0000108750618386455 * indata["wavelethll_glszm_largearealowgra_lm"] + -34.6049578360473 * indata["wavelethll_glszm_smallareaemphas_fc"] + -0.00622267395786139 * indata["wavelethll_ngtdm_busyness_mm"] + 0.0125102964039785 * indata["waveletlhh_firstorder_maximum_mm"] + -1.63901757644153 * indata["waveletlhh_firstorder_median_lm"] + -5.4573283165394 * indata["waveletlhh_glszm_smallareaemphas_mm"] + -0.00913208687306463 * indata["waveletlhl_firstorder_minimum_tc"] + 3.82470924731225 * indata["waveletlhl_firstorder_skewness_fc"] + -2.44052577290932 * indata["waveletlhl_firstorder_skewness_tc"] + -0.271269630988434 * indata["waveletlhl_glcm_clustershade_fc"] + -2.22075325292815 * indata["waveletlhl_glszm_zoneentropy_lm"] + -1.73129068376673 * indata["waveletlhl_glszm_zoneentropy_mm"] + -0.0049465095877357 * indata["waveletllh_firstorder_minimum_fc"] + -22.7839150149442 * indata["waveletllh_glcm_correlation_mm"] + -49.4931066442567 * indata["waveletllh_glcm_imc1_mm"] + 508.07815254672 * indata["waveletllh_gldm_smalldependencel_mm"] + -4.27054091625983 * indata["waveletllh_glszm_zoneentropy_fc"] + 0.00258323341544075 * indata["waveletlll_glcm_clustershade_lm"] + -66.2396707106205 * indata["waveletlll_glcm_idn_fc"] + 0.0000154180694582632 * indata["waveletlll_gldm_largedependenceh_lm"] + 0.00278500701223195 * indata["waveletlll_glszm_graylevelnonuni_fc"] + 0.12855055853742 * indata["waveletlll_glszm_graylevelvarian_mm"] + -0.237040444584005 * indata["waveletlll_ngtdm_busyness_tc"]));

    _temp_1[0] = indata["Probability( itype1=Control )"];
    _temp_1[1] = indata["Probability( itype1=Case )"];
    _temp_0 = jmp.max_array(2, _temp_1);
    switch (_temp_0) {
        case 0: {
            _temp_2 = "Control";
        }
        break;
        case 1: {
            _temp_2 = "Case";
        }
        break;
        default: {
            _temp_2 = "";
        }
    }
    outdata["Most Likely itype1,!Most Likely itype1"] = _temp_2;

    return outdata["Most Likely itype1,!Most Likely itype1"];
};


module.exports = {
  getInputMetadata: getInputMetadata,
  getOutputMetadata : getOutputMetadata,
  getModelMetadata : getModelMetadata,
  score : score
};



