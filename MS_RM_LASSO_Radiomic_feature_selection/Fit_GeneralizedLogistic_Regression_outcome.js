"use strict";

var jmp = require('./jmp_score.js');


/* ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== */

/* JavaScript code generated by JMP v16.2.0 */
var getModelMetadata = function() {
	return {"creator": "Fit Generalized", "modelName": "Logistic Regression", "predicted": "itype1", "table": "final-2022-11-18", "version": "16.2.0", "timestamp": "2023-02-13T04:26:33Z"};
};

var getInputMetadata = function() {
    return {
   "$schema": "http://json-schema.org/draft-04/schema#",
   "id": "/",
   "type": "object",
   "properties": {
     "original_firstorder_minimum_fc": {
       "id": "original_firstorder_minimum_fc",
       "type": "number"
     },
     "original_glszm_smallareaemphasis_fc": {
       "id": "original_glszm_smallareaemphasis_fc",
       "type": "number"
     },
     "original_shape_elongation_lm": {
       "id": "original_shape_elongation_lm",
       "type": "number"
     },
     "original_shape_sphericity_mm": {
       "id": "original_shape_sphericity_mm",
       "type": "number"
     },
     "v455_fc": {
       "id": "v455_fc",
       "type": "number"
     },
     "v620_fc": {
       "id": "v620_fc",
       "type": "number"
     },
     "v810_mm": {
       "id": "v810_mm",
       "type": "number"
     },
     "wavelethhh_firstorder_minimum_fc": {
       "id": "wavelethhh_firstorder_minimum_fc",
       "type": "number"
     },
     "wavelethhh_glcm_clustershade_mm": {
       "id": "wavelethhh_glcm_clustershade_mm",
       "type": "number"
     },
     "wavelethhh_glcm_imc1_lm": {
       "id": "wavelethhh_glcm_imc1_lm",
       "type": "number"
     },
     "wavelethhh_glrlm_runvariance_mm": {
       "id": "wavelethhh_glrlm_runvariance_mm",
       "type": "number"
     },
     "wavelethhh_glszm_largeareahighgr_fc": {
       "id": "wavelethhh_glszm_largeareahighgr_fc",
       "type": "number"
     },
     "wavelethhl_firstorder_mean_mm": {
       "id": "wavelethhl_firstorder_mean_mm",
       "type": "number"
     },
     "wavelethhl_glcm_clusterprominenc_fc": {
       "id": "wavelethhl_glcm_clusterprominenc_fc",
       "type": "number"
     },
     "wavelethhl_glcm_correlation_mm": {
       "id": "wavelethhl_glcm_correlation_mm",
       "type": "number"
     },
     "wavelethhl_glcm_imc1_mm": {
       "id": "wavelethhl_glcm_imc1_mm",
       "type": "number"
     },
     "wavelethhl_glcm_imc1_tc": {
       "id": "wavelethhl_glcm_imc1_tc",
       "type": "number"
     },
     "wavelethhl_gldm_smalldependencel_fc": {
       "id": "wavelethhl_gldm_smalldependencel_fc",
       "type": "number"
     },
     "wavelethhl_gldm_smalldependencel_mm": {
       "id": "wavelethhl_gldm_smalldependencel_mm",
       "type": "number"
     },
     "wavelethhl_glrlm_longrunhighgray_mm": {
       "id": "wavelethhl_glrlm_longrunhighgray_mm",
       "type": "number"
     },
     "wavelethhl_glszm_graylevelvarian_mm": {
       "id": "wavelethhl_glszm_graylevelvarian_mm",
       "type": "number"
     },
     "wavelethhl_glszm_largearealowgra_fc": {
       "id": "wavelethhl_glszm_largearealowgra_fc",
       "type": "number"
     },
     "wavelethhl_glszm_smallareaemphas_fc": {
       "id": "wavelethhl_glszm_smallareaemphas_fc",
       "type": "number"
     },
     "wavelethlh_firstorder_median_lm": {
       "id": "wavelethlh_firstorder_median_lm",
       "type": "number"
     },
     "wavelethlh_glszm_largeareahighgr_tc": {
       "id": "wavelethlh_glszm_largeareahighgr_tc",
       "type": "number"
     },
     "wavelethlh_glszm_zoneentropy_tc": {
       "id": "wavelethlh_glszm_zoneentropy_tc",
       "type": "number"
     },
     "wavelethll_firstorder_kurtosis_mm": {
       "id": "wavelethll_firstorder_kurtosis_mm",
       "type": "number"
     },
     "wavelethll_firstorder_skewness_lm": {
       "id": "wavelethll_firstorder_skewness_lm",
       "type": "number"
     },
     "wavelethll_glszm_graylevelnonuni_fc": {
       "id": "wavelethll_glszm_graylevelnonuni_fc",
       "type": "number"
     },
     "wavelethll_glszm_largearealowgra_lm": {
       "id": "wavelethll_glszm_largearealowgra_lm",
       "type": "number"
     },
     "wavelethll_glszm_smallareaemphas_fc": {
       "id": "wavelethll_glszm_smallareaemphas_fc",
       "type": "number"
     },
     "wavelethll_ngtdm_busyness_mm": {
       "id": "wavelethll_ngtdm_busyness_mm",
       "type": "number"
     },
     "waveletlhh_firstorder_maximum_mm": {
       "id": "waveletlhh_firstorder_maximum_mm",
       "type": "number"
     },
     "waveletlhh_firstorder_median_lm": {
       "id": "waveletlhh_firstorder_median_lm",
       "type": "number"
     },
     "waveletlhh_glszm_smallareaemphas_mm": {
       "id": "waveletlhh_glszm_smallareaemphas_mm",
       "type": "number"
     },
     "waveletlhl_firstorder_minimum_tc": {
       "id": "waveletlhl_firstorder_minimum_tc",
       "type": "number"
     },
     "waveletlhl_firstorder_skewness_fc": {
       "id": "waveletlhl_firstorder_skewness_fc",
       "type": "number"
     },
     "waveletlhl_firstorder_skewness_tc": {
       "id": "waveletlhl_firstorder_skewness_tc",
       "type": "number"
     },
     "waveletlhl_glcm_clustershade_fc": {
       "id": "waveletlhl_glcm_clustershade_fc",
       "type": "number"
     },
     "waveletlhl_glszm_zoneentropy_lm": {
       "id": "waveletlhl_glszm_zoneentropy_lm",
       "type": "number"
     },
     "waveletlhl_glszm_zoneentropy_mm": {
       "id": "waveletlhl_glszm_zoneentropy_mm",
       "type": "number"
     },
     "waveletllh_firstorder_minimum_fc": {
       "id": "waveletllh_firstorder_minimum_fc",
       "type": "number"
     },
     "waveletllh_glcm_correlation_mm": {
       "id": "waveletllh_glcm_correlation_mm",
       "type": "number"
     },
     "waveletllh_glcm_imc1_mm": {
       "id": "waveletllh_glcm_imc1_mm",
       "type": "number"
     },
     "waveletllh_gldm_smalldependencel_mm": {
       "id": "waveletllh_gldm_smalldependencel_mm",
       "type": "number"
     },
     "waveletllh_glszm_zoneentropy_fc": {
       "id": "waveletllh_glszm_zoneentropy_fc",
       "type": "number"
     },
     "waveletlll_glcm_clustershade_lm": {
       "id": "waveletlll_glcm_clustershade_lm",
       "type": "number"
     },
     "waveletlll_glcm_idn_fc": {
       "id": "waveletlll_glcm_idn_fc",
       "type": "number"
     },
     "waveletlll_gldm_largedependenceh_lm": {
       "id": "waveletlll_gldm_largedependenceh_lm",
       "type": "number"
     },
     "waveletlll_glszm_graylevelnonuni_fc": {
       "id": "waveletlll_glszm_graylevelnonuni_fc",
       "type": "number"
     },
     "waveletlll_glszm_graylevelvarian_mm": {
       "id": "waveletlll_glszm_graylevelvarian_mm",
       "type": "number"
     },
     "waveletlll_ngtdm_busyness_tc": {
       "id": "waveletlll_ngtdm_busyness_tc",
       "type": "number"
     },
     "Probability( itype1=Case )": {
       "id": "Probability( itype1=Case )",
       "type": "number"
     },
     "Probability( itype1=Control )": {
       "id": "Probability( itype1=Control )",
       "type": "number"
     }   },
   "additionalProperties": false,
  };
};

var getOutputMetadata = function() {
    return {
   "$schema": "http://json-schema.org/draft-04/schema#",
   "id": "/",
   "type": "object",
   "properties": {
     "Probability( itype1=Case ),!Probability( itype1=Case )": {
       "id": "Probability( itype1=Case ),!Probability( itype1=Case )",
       "type": "number"
     },
     "Probability( itype1=Control ),!Probability( itype1=Control )": {
       "id": "Probability( itype1=Control ),!Probability( itype1=Control )",
       "type": "number"
     },
     "Most Likely itype1,!Most Likely itype1": {
       "id": "Most Likely itype1,!Most Likely itype1",
       "type": "string"
     }   },
   "additionalProperties": false,
  };
};

var score = function(indata, outdata) {
    var _temp_0;
    var _temp_1 = [];
    var _temp_2 = "";

    outdata["Probability( itype1=Case ),!Probability( itype1=Case )"] = jmp.squish((-172.775141372896 + 0.0700013881448006 * indata["original_firstorder_minimum_fc"] + -34.6341381687953 * indata["original_glszm_smallareaemphasis_fc"] + 7.54578689212087 * indata["original_shape_elongation_lm"] + 24.9071630447123 * indata["original_shape_sphericity_mm"] + 218.137837762385 * indata["v455_fc"] + 39.0624589184386 * indata["v620_fc"] + -14.8937736069372 * indata["v810_mm"] + 0.0604526564360081 * indata["wavelethhh_firstorder_minimum_fc"] + 89.5301013123465 * indata["wavelethhh_glcm_clustershade_mm"] + 214.358761675947 * indata["wavelethhh_glcm_imc1_lm"] + -17.6764276816312 * indata["wavelethhh_glrlm_runvariance_mm"] + 0.0000000080922643666 * indata["wavelethhh_glszm_largeareahighgr_fc"] + -8.40701742507882 * indata["wavelethhl_firstorder_mean_mm"] + 3.24586941507034 * indata["wavelethhl_glcm_clusterprominenc_fc"] + 82.0036396632976 * indata["wavelethhl_glcm_correlation_mm"] + -167.929146981831 * indata["wavelethhl_glcm_imc1_mm"] + -81.2591606535897 * indata["wavelethhl_glcm_imc1_tc"] + 623.8196279605 * indata["wavelethhl_gldm_smalldependencel_fc"] + 633.853678229485 * indata["wavelethhl_gldm_smalldependencel_mm"] + 0.0712579203802247 * indata["wavelethhl_glrlm_longrunhighgray_mm"] + -8.37242054133618 * indata["wavelethhl_glszm_graylevelvarian_mm"] + -0.0000040672567565978 * indata["wavelethhl_glszm_largearealowgra_fc"] + 27.028294011724 * indata["wavelethhl_glszm_smallareaemphas_fc"] + 2.68091328754982 * indata["wavelethlh_firstorder_median_lm"] + -0.0000000601367110805 * indata["wavelethlh_glszm_largeareahighgr_tc"] + 1.87372477941517 * indata["wavelethlh_glszm_zoneentropy_tc"] + 0.430843975535361 * indata["wavelethll_firstorder_kurtosis_mm"] + -3.33711473495706 * indata["wavelethll_firstorder_skewness_lm"] + 0.00320998251121829 * indata["wavelethll_glszm_graylevelnonuni_fc"] + 0.0000096730777206538 * indata["wavelethll_glszm_largearealowgra_lm"] + 36.6019335270319 * indata["wavelethll_glszm_smallareaemphas_fc"] + 0.0114474155576093 * indata["wavelethll_ngtdm_busyness_mm"] + -0.0142720476386511 * indata["waveletlhh_firstorder_maximum_mm"] + 1.8562871937663 * indata["waveletlhh_firstorder_median_lm"] + 5.62642810418155 * indata["waveletlhh_glszm_smallareaemphas_mm"] + 0.00855828593287416 * indata["waveletlhl_firstorder_minimum_tc"] + -4.62528411700657 * indata["waveletlhl_firstorder_skewness_fc"] + 2.78111477571768 * indata["waveletlhl_firstorder_skewness_tc"] + 0.436133710049468 * indata["waveletlhl_glcm_clustershade_fc"] + 2.38003617427814 * indata["waveletlhl_glszm_zoneentropy_lm"] + 2.19765939161489 * indata["waveletlhl_glszm_zoneentropy_mm"] + 0.00548500502818228 * indata["waveletllh_firstorder_minimum_fc"] + 23.7225356876432 * indata["waveletllh_glcm_correlation_mm"] + 60.070472306518 * indata["waveletllh_glcm_imc1_mm"] + -677.424891403618 * indata["waveletllh_gldm_smalldependencel_mm"] + 5.00353308692232 * indata["waveletllh_glszm_zoneentropy_fc"] + -0.0029503317107897 * indata["waveletlll_glcm_clustershade_lm"] + 91.8404517476474 * indata["waveletlll_glcm_idn_fc"] + -0.0000930711561240935 * indata["waveletlll_gldm_largedependenceh_lm"] + -0.00251842296463469 * indata["waveletlll_glszm_graylevelnonuni_fc"] + -0.127514568580581 * indata["waveletlll_glszm_graylevelvarian_mm"] + 0.242909639123736 * indata["waveletlll_ngtdm_busyness_tc"]));

    outdata["Probability( itype1=Control ),!Probability( itype1=Control )"] = 1 + -1 * jmp.squish((-172.775141372896 + 0.0700013881448006 * indata["original_firstorder_minimum_fc"] + -34.6341381687953 * indata["original_glszm_smallareaemphasis_fc"] + 7.54578689212087 * indata["original_shape_elongation_lm"] + 24.9071630447123 * indata["original_shape_sphericity_mm"] + 218.137837762385 * indata["v455_fc"] + 39.0624589184386 * indata["v620_fc"] + -14.8937736069372 * indata["v810_mm"] + 0.0604526564360081 * indata["wavelethhh_firstorder_minimum_fc"] + 89.5301013123465 * indata["wavelethhh_glcm_clustershade_mm"] + 214.358761675947 * indata["wavelethhh_glcm_imc1_lm"] + -17.6764276816312 * indata["wavelethhh_glrlm_runvariance_mm"] + 0.0000000080922643666 * indata["wavelethhh_glszm_largeareahighgr_fc"] + -8.40701742507882 * indata["wavelethhl_firstorder_mean_mm"] + 3.24586941507034 * indata["wavelethhl_glcm_clusterprominenc_fc"] + 82.0036396632976 * indata["wavelethhl_glcm_correlation_mm"] + -167.929146981831 * indata["wavelethhl_glcm_imc1_mm"] + -81.2591606535897 * indata["wavelethhl_glcm_imc1_tc"] + 623.8196279605 * indata["wavelethhl_gldm_smalldependencel_fc"] + 633.853678229485 * indata["wavelethhl_gldm_smalldependencel_mm"] + 0.0712579203802247 * indata["wavelethhl_glrlm_longrunhighgray_mm"] + -8.37242054133618 * indata["wavelethhl_glszm_graylevelvarian_mm"] + -0.0000040672567565978 * indata["wavelethhl_glszm_largearealowgra_fc"] + 27.028294011724 * indata["wavelethhl_glszm_smallareaemphas_fc"] + 2.68091328754982 * indata["wavelethlh_firstorder_median_lm"] + -0.0000000601367110805 * indata["wavelethlh_glszm_largeareahighgr_tc"] + 1.87372477941517 * indata["wavelethlh_glszm_zoneentropy_tc"] + 0.430843975535361 * indata["wavelethll_firstorder_kurtosis_mm"] + -3.33711473495706 * indata["wavelethll_firstorder_skewness_lm"] + 0.00320998251121829 * indata["wavelethll_glszm_graylevelnonuni_fc"] + 0.0000096730777206538 * indata["wavelethll_glszm_largearealowgra_lm"] + 36.6019335270319 * indata["wavelethll_glszm_smallareaemphas_fc"] + 0.0114474155576093 * indata["wavelethll_ngtdm_busyness_mm"] + -0.0142720476386511 * indata["waveletlhh_firstorder_maximum_mm"] + 1.8562871937663 * indata["waveletlhh_firstorder_median_lm"] + 5.62642810418155 * indata["waveletlhh_glszm_smallareaemphas_mm"] + 0.00855828593287416 * indata["waveletlhl_firstorder_minimum_tc"] + -4.62528411700657 * indata["waveletlhl_firstorder_skewness_fc"] + 2.78111477571768 * indata["waveletlhl_firstorder_skewness_tc"] + 0.436133710049468 * indata["waveletlhl_glcm_clustershade_fc"] + 2.38003617427814 * indata["waveletlhl_glszm_zoneentropy_lm"] + 2.19765939161489 * indata["waveletlhl_glszm_zoneentropy_mm"] + 0.00548500502818228 * indata["waveletllh_firstorder_minimum_fc"] + 23.7225356876432 * indata["waveletllh_glcm_correlation_mm"] + 60.070472306518 * indata["waveletllh_glcm_imc1_mm"] + -677.424891403618 * indata["waveletllh_gldm_smalldependencel_mm"] + 5.00353308692232 * indata["waveletllh_glszm_zoneentropy_fc"] + -0.0029503317107897 * indata["waveletlll_glcm_clustershade_lm"] + 91.8404517476474 * indata["waveletlll_glcm_idn_fc"] + -0.0000930711561240935 * indata["waveletlll_gldm_largedependenceh_lm"] + -0.00251842296463469 * indata["waveletlll_glszm_graylevelnonuni_fc"] + -0.127514568580581 * indata["waveletlll_glszm_graylevelvarian_mm"] + 0.242909639123736 * indata["waveletlll_ngtdm_busyness_tc"]));

    _temp_1[0] = indata["Probability( itype1=Case )"];
    _temp_1[1] = indata["Probability( itype1=Control )"];
    _temp_0 = jmp.max_array(2, _temp_1);
    switch (_temp_0) {
        case 0: {
            _temp_2 = "Case";
        }
        break;
        case 1: {
            _temp_2 = "Control";
        }
        break;
        default: {
            _temp_2 = "";
        }
    }
    outdata["Most Likely itype1,!Most Likely itype1"] = _temp_2;

    return outdata["Most Likely itype1,!Most Likely itype1"];
};


module.exports = {
  getInputMetadata: getInputMetadata,
  getOutputMetadata : getOutputMetadata,
  getModelMetadata : getModelMetadata,
  score : score
};



